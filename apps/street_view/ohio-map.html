<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ohio Map</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: white;
        }
        svg {
            display: block;
            margin: 0 auto;
        }
        .ohio-outline {
            fill: none;
            stroke: black;
            stroke-width: 2;
        }
        .city-point {
            fill: black;
            cursor: pointer;
        }
        .city-point:hover {
            fill: gray;
        }
    </style>
</head>
<body>
    <script>
        // Set dimensions
        const width = 800;
        const height = 600;
        const margin = 50;
        
        // Cities data
        const cities = [
            { name: "Columbus", lat: 39.9612, lng: -82.9988 },
            { name: "Cleveland", lat: 41.4993, lng: -81.6944 },
            { name: "Cincinnati", lat: 39.1031, lng: -84.5120 },
            { name: "Toledo", lat: 41.6528, lng: -83.5379 },
            { name: "Akron", lat: 41.0814, lng: -81.5190 },
            { name: "Dayton", lat: 39.7589, lng: -84.1916 },
            { name: "Youngstown", lat: 41.0998, lng: -80.6495 },
            { name: "Canton", lat: 40.7989, lng: -81.3784 },

            {name: "assline", lat: 40.856, lng: -82.311}


        ];
        
        // Create SVG
        const svg = d3.select("body")
            .append("svg")
            .attr("width", width)
            .attr("height", height);
        
        // Create projection
        const projection = d3.geoMercator();
        
        // Create path generator
        const path = d3.geoPath().projection(projection);
        
        // Add loading text
        svg.append("text")
            .attr("id", "loading")
            .attr("x", width / 2)
            .attr("y", height / 2)
            .attr("text-anchor", "middle")
            .text("Loading Ohio map...");
        
        // Load Ohio GeoJSON
        d3.json("https://raw.githubusercontent.com/glynnbird/usstatesgeojson/master/ohio.geojson")
            .then(function(ohioData) {
                console.log("GeoJSON loaded:", ohioData);
                
                // Remove loading text
                svg.select("#loading").remove();
                
                // Set up projection to fit Ohio
                projection.fitSize([width - (margin * 2), height - (margin * 2)], ohioData);
                
                // Draw Ohio outline
                svg.append("path")
                    .datum(ohioData)
                    .attr("class", "ohio-outline")
                    .attr("d", path);
                
                // Plot cities
                svg.selectAll(".city-point")
                    .data(cities)
                    .enter()
                    .append("circle")
                    .attr("class", "city-point")
                    .attr("cx", d => {
                        const coords = projection([d.lng, d.lat]);
                        console.log(`${d.name}: ${d.lng}, ${d.lat} -> ${coords}`);
                        return coords[0];
                    })
                    .attr("cy", d => projection([d.lng, d.lat])[1])
                    .attr("r", 5)
                    .on("click", function(event, d) {
                        alert(`${d.name}\nLat: ${d.lat}\nLng: ${d.lng}`);
                        console.log(`Clicked: ${d.name} (${d.lat}, ${d.lng})`);
                    });
                
                console.log("Map rendered successfully");
            })
            .catch(function(error) {
                console.error("Error loading GeoJSON:", error);
                svg.select("#loading").text("Error loading map data");
            });
    </script>
</body>
</html>